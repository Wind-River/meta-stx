From bd8abad80bb0b24ed3556e51d345e4364a129c6b Mon Sep 17 00:00:00 2001
From: "Sar Ashki, Babak" <Babak.SarAshki@windriver.com>
Date: Mon, 13 Jan 2020 13:11:52 -0800
Subject: [PATCH] stx-config: puppet-manifests cast to Integer

Use cast operator to convert string to a number
---
 puppet-manifests/src/modules/platform/manifests/params.pp | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/puppet-manifests/src/modules/platform/manifests/params.pp b/puppet-manifests/src/modules/platform/manifests/params.pp
index 9ef50eb2..d99cc609 100644
--- a/puppet-manifests/src/modules/platform/manifests/params.pp
+++ b/puppet-manifests/src/modules/platform/manifests/params.pp
@@ -35,9 +35,9 @@ class platform::params (
   $protected_group_name = 'sys_protected'
   $protected_group_id = '345'
 
-  # PUPPET 4 treats custom facts as strings. We convert to int by adding zero.
-  $phys_core_count = 0 + $::physical_core_count
-  $plat_res_mem = 0 + $::platform_res_mem
+  # To convert a string to a number, cast the type by declaring a new Numeric object.
+  $phys_core_count = Integer($::physical_core_count)
+  $plat_res_mem = Integer($::platform_res_mem)
 
   # Engineering parameters common to openstack services:
 
-- 
2.23.0

